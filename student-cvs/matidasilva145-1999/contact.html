<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">

    <title>Formulario de contacto</title>
    <link rel="stylesheet" href="contact.css">
</head>

<body>
    <main class="page">
        <h1>Contacto</h1>
        <form action="/server" method="get">
            <div class="form-group">
                <label for="name">Nombre</label>
                <input id="name" type="text" name="name" placeholder="Nombre completo" required>
            </div>
            <div class="form-group">
                <label for="email">Correo electonico</label>
                <input id="email" type="email" name="email" placeholder="Ingrese su correo electonico" required>
            </div>
            <div class="form-group">
                <label for="phone">Telefono</label>
                <input id="phone" type="tel" name="phone" pattern="[0-9]{9}" placeholder="Numero de telefono movil" required>
            </div>
            <div class="form-group">
                <fieldset>
                    <legend>Seleccione tipo de trabajo:</legend>
                    <input id="electricidad" name="type-of-work" type="radio"><label
                        for="electricidad">Electricidad</label>
                    <input id="steel framing" name="type-of-work" type="radio" required><label for="steel framing">Steel
                        framing</label>
                    <input id="albañileria" name="type-of-work" type="radio"><label
                        for="albañileria">Albañileria</label>
                    <input id="sanitaria" name="type-of-work" type="radio"><label for="sanitaria">Sanitaria</label>
                </fieldset>
            </div>
            <div class="form-group">
                <label for="type">Horario de llamada</label>
                <select id="type" name="call-time" required>
                    <option disabled selected value="">Seleccione una hora para que le devuelva la llamada</option>
                    <option>10:00am</option>
                    <option>12:00am</option>
                    <option>14:00pm</option>
                    <option>16:00pm</option>
                </select>
            </div>
            <div class="form-group">
                <label for="description">Descripción</label>
                <textarea id="description" name="description" rows="5" required></textarea>
                <div class="help">Descipcion breve de trabajo a realizar.</div>
            </div>

            <button>Enviar</button>

        </form>
        <a href="/index.html">Volver</a>
    </main>
    <script>
// Le pregunte a chat-gpt deje los comentaros tal y como estaba por que voy a investigar mejor como funciona el codigo
        const formulario = document.querySelector('form');
        
        formulario.addEventListener('submit', function(event) {
          event.preventDefault();
          
          // Obtenemos los datos del formulario
          const name = document.querySelector('#name').value;
          const email = document.querySelector('#email').value;
          const phone = document.querySelector('#phone').value;
          const typeOfWork = document.querySelector('input[name="type-of-work"]:checked').value;
          const callTime = document.querySelector('#type').value;
          const description = document.querySelector('#description').value;
          
          // Guardamos los datos en localStorage
          localStorage.setItem('name', name);
          localStorage.setItem('email', email);
          localStorage.setItem('phone', phone);
          localStorage.setItem('typeOfWork', typeOfWork);
          localStorage.setItem('callTime', callTime);
          localStorage.setItem('description', description);
          
          // Redirigimos al usuario a otra página
          window.location.href = "/index.html";
        });
        </script>
        
</body>

</html>